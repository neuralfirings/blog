<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Ghost Hack &middot; nyl.io
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/lanyon.css">


  <link rel="stylesheet" href="/blog/public/css/nyl.css">
  <link rel="stylesheet" href="/blog/css/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Fonts -->

  <link href='https://fonts.googleapis.com/css?family=Lato:400,300,100,700,900' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'>
</head>


  <body class="theme-base-08 layout-reverse">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/blog">Home</a>

    

    
    
      
        
      
    
      
        
          
            <a class="sidebar-nav-item" href="/blog/about.html">About</a>
          
        
      
    
      
    
      
        
      
    
      
        
          
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
        
          
            <a class="sidebar-nav-item" href="/blog/test.html">Test</a>
          
        
      
    

<!--     <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span> -->
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h2 class="masthead-title">
            <a href="/blog/" title="Home">nyl.io</a>&nbsp;&nbsp;&nbsp;
            <small>Random neural firings by Nancy Yi Liang.</small>
          </h2>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Ghost Hack</h1>
  <span class="post-date">04 Aug 2015</span>
  <p>One of the good things about markdown is it lets you interject HTML in the middle. So far example,</p>

<p>```</p>
<div class="red">I'm red</div>
<p><strong>I’m bold</strong>
```</p>

<p>Gives you something like:</p>
<div class="red">I'm red</div>
<p><strong>I’m bold</strong></p>

<hr />

<h2 id="the-problem">The Problem</h2>
<p>Here’s the problem though, when you are writing in html, you can’t switch back to Markdown. So for content in a div, you can’t take care of all the ==cool== <em>markdown</em> styles.</p>

<p>So, for example,</p>

<p>```
<strong>I’m bold</strong></p>
<div class="red">**I'm not bold, still red though**</div>
<p>```</p>

<p>will give you:</p>

<div class="red">**I'm not bold, still red though**</div>
<p><strong>I’m bold</strong></p>

<hr />

<h2 id="installation-markdown-in-div-preprocessor">Installation: Markdown-in-Div Preprocessor</h2>

<p>So I made a small Markdown preprocessor. It basically uses img tags to store div info. I use img tags because it doesn’t require closing tags.</p>

<p>Copy/paste this in after jQuery in the header but before anything that moves around elements or add elements to the HTML.</p>

<p><code>
&lt;script&gt;
    // Markdown In Div
    $(document).ready(function() {
        html = $(".post-content").html().replace(/&lt;img src="start:/g, '&lt;div class="')
            .replace(/&lt;img src="end" alt="" title=""&gt;/g, '&lt;/div&gt;')
        	.replace(/&lt;img src="end" alt=""&gt;/g, "&lt;/div&gt;");
        $(".post-content").html(html);
        $(".post-content").find("div").each(function() {
            class_cleaned = $(this).attr("class").replace("&amp;", " ");
            $(this).attr("class", class_cleaned)
        })
    })
&lt;/script&gt;
</code></p>

<hr />

<h2 id="example-usage">Example Usage</h2>

<p>Now, when you want to open close tag, you can use</p>

<p><code>
 ![](start:red)
 this should be red ==with== *formatting*!
 ![](http://)
</code></p>

<p>This will become:</p>

<p><img src="start:red" alt="" />
 this should be red ==with== <em>formatting</em>!
 <img src="end" alt="" /></p>

<p>ooooo… Markdown in a Div ~~using~~ hacking the img tag.</p>

<p>Spiffy!</p>

<style>
.red { color: #f00; }
</style>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="xrelated-posts">
    
      <li>
        <h5>
          <a href="/blog/2015/09/hello-world-intro">
            Hello World Projects
            <small>07 Sep 2015</small>
          </a>
        </h5>
      </li>
    
      <li>
        <h5>
          <a href="/blog/2015/09/welcome-to-jekyll">
            Welcome to Jekyll!
            <small>07 Sep 2015</small>
          </a>
        </h5>
      </li>
    
      <li>
        <h5>
          <a href="/blog/2015/09/hello-world-custom-pcb-fritzing">
            Hello World: Design PCBs with Fritzing
            <small>05 Sep 2015</small>
          </a>
        </h5>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
